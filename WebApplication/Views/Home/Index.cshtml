@{
    ViewBag.Title = "Home Page";
}

<div class="jumbotron">
    <h1>ASP.NET</h1>
    <p class="lead">ASP.NET is a free web framework for building great Web sites and Web applications using HTML, CSS and JavaScript.</p>
    <p><a href="https://asp.net" class="btn btn-primary btn-lg">Learn more &raquo;</a></p>
</div>

<div id="message">message should display here</div>

@section scripts{
    <script src="~/Scripts/jquery.signalR-2.4.1.min.js"></script>
    @*<script src="/signalr/hubs"></script>*@

    <script type="text/javascript">
        var SignalrConnection;
        var HubProxy;

        function Connect() {
            HubServerUrl = "https://localhost:44390/";
            var HubUrl = HubServerUrl + "signalr";
            //This will hold the connection to the signalr hub   
            SignalrConnection = $.hubConnection(HubUrl, {
                useDefaultPath: false
            });
            HubProxy = SignalrConnection.createHubProxy('MessageHub');
            //connecting the client to the signalr hub   
            SignalrConnection.start().done(function () {
                console.log('Now connected, connection ID=' + connection.id);
                alert("Connected to Signalr Server");
                //$('#message').val(message);
            })
                .fail(function () {
                    alert("failed in connecting to the signalr server");
                })
        } 

        Connect();
    </script>
}